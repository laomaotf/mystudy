
# 基于傅里叶变换的图像水印

频域水印对基本的图像变换具有一定的鲁棒性，但是破解一个途径是用手机对着屏幕重拍一张加密图

## 加密步骤  
* 输入载体图像和水印图像，对载体图像做FFT变换  
* 把水印图像缩小，确保小于载体图像的0.25  
* 构造一个和载体图像等大的图像，元素全为零  
* 把水印图像复制到构造图像左上角和右下角，绕图像中心点对称  
* 对包含对称水印的图像做位置随机编码，该随机映射需要保留到解码端  
* 把包含对成水印的图像和载体的FFT变换做blend，实部和虚部做相同的blend。注意水印的权重  
  要不低于10  
* 对blend后的频域图像做逆变换，得到包含水印的图(时域中是看不到水印的)   


## 解码步骤

解密过程需要输入载体图，编码阶段的位置随机编码映射表，水印权重，以及待解密的图

* 对载体图做FFT变换，对待解密的图做FFT变换  
* 上述两个变换求差，并除以水印加密阶段的权重  
* 逆向使用位置随机编码，从残差图中获得水印图像  
